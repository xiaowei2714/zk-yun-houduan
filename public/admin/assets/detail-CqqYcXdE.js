import{d as j,g as V,j as h,s as A,y as P,o as i,a as y,m as t,w as s,e as o,b as m,p as d,t as u,z as b,B as w,C,Z as z,$ as F,v as M,q as S}from"./index-TUTPcGtB.js";import{E as U,a as H}from"./el-form-item-DY1YiJTE.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-DQPE8ybu.js";import{E as O}from"./el-card-C9700OUW.js";import{E as T}from"./el-page-header-Dc0f1pt2.js";import{g as Y,u as Z,a as G}from"./consumer-BYOzQ9UG.js";import{_ as J}from"./account-adjust.vue_vue_type_script_setup_true_lang-BiTuOSk9.js";import"./_baseClone-m2TTLMcq.js";import"./_Uint8Array-Br1Bv8aR.js";import"./_initCloneObject-BPF8Ocf1.js";import"./el-popover-BXREL-Na.js";import"./el-tag-Dz7mxGZx.js";import"./isEqual-4FQJ0tWp.js";import"./el-select-D0BxjOJU.js";import"./index-BRjKuX5p.js";import"./token-DI9FKtlJ.js";/* empty css                       */import"./el-radio--P7fmVj5.js";import"./index-BoNShnAY.js";import"./index-CL3ny9IX.js";const K={class:"bg-page flex py-5 mb-10 items-center"},L={class:"basis-40 flex flex-col justify-center items-center"},Q={class:"basis-40 flex flex-col justify-center items-center"},W={class:"mt-2 flex items-center"},X={key:0},ee={key:1},te=j({name:"consumerDetail"}),ge=j({...te,setup(se){const _=V(),a=h({avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,sex:0,sn:"",account:"",user_money:"",ad_perm:""}),l=h({show:!1,value:""}),B=A(),p=async()=>{const n=await Y({id:_.query.id});Object.keys(a).forEach(e=>{a[e]=n[e]})},x=async(n,e)=>{z(n)||(await Z({id:_.query.id,field:e,value:n}),p())},D=n=>{l.show=!0,l.value=n},$=async n=>{await G({user_id:_.query.id,...n}),l.show=!1,p()};return p(),(n,e)=>{const q=T,E=O,N=F,f=M,c=U,k=S,g=I,R=H,v=P("perms");return i(),y("div",null,[t(E,{class:"!border-none",shadow:"never"},{default:s(()=>[t(q,{content:"用户详情",onBack:e[0]||(e[0]=r=>n.$router.back())})]),_:1}),t(E,{class:"mt-4 !border-none",header:"基本资料",shadow:"never"},{default:s(()=>[t(R,{ref_key:"formRef",ref:B,class:"ls-form",model:o(a),"label-width":"120px"},{default:s(()=>[m("div",K,[m("div",L,[e[5]||(e[5]=m("div",{class:"mb-2 text-tx-regular"},"用户头像",-1)),t(N,{src:o(a).avatar,size:58},null,8,["src"])]),m("div",Q,[e[7]||(e[7]=m("div",{class:"text-tx-regular"},"账户余额",-1)),m("div",W,[d(" Y币 "+u(o(a).user_money)+" ",1),b((i(),w(f,{type:"primary",link:"",onClick:e[1]||(e[1]=r=>D(o(a).user_money))},{default:s(()=>e[6]||(e[6]=[d(" 调整 ")])),_:1})),[[v,["user.user/adjustMoney"]]])])])]),t(c,{label:"用户昵称："},{default:s(()=>[d(u(o(a).nickname),1)]),_:1}),t(c,{label:"账号："},{default:s(()=>[d(u(o(a).account)+" ",1),b((i(),w(g,{class:"ml-[10px]",onConfirm:e[2]||(e[2]=r=>x(r,"account")),limit:32},{default:s(()=>[t(f,{type:"primary",link:""},{default:s(()=>[t(k,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[v,["user.user/edit"]]])]),_:1}),t(c,{label:"广告权限："},{default:s(()=>[o(a).ad_perm==2?(i(),y("span",X,"已开启")):C("",!0),o(a).ad_perm==1?(i(),y("span",ee,"未开启")):C("",!0),b((i(),w(g,{class:"ml-[10px]",type:"select",options:[{label:"未开启",value:1},{label:"已开启",value:2}],onConfirm:e[3]||(e[3]=r=>x(r,"ad_perm"))},{default:s(()=>[t(f,{type:"primary",link:""},{default:s(()=>[t(k,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[v,["user.user/edit"]]])]),_:1}),t(c,{label:"注册时间："},{default:s(()=>[d(u(o(a).create_time),1)]),_:1}),t(c,{label:"最近登录时间："},{default:s(()=>[d(u(o(a).login_time),1)]),_:1})]),_:1},8,["model"])]),_:1}),t(J,{show:o(l).show,"onUpdate:show":e[4]||(e[4]=r=>o(l).show=r),value:o(l).value,onConfirm:$},null,8,["show","value"])])}}});export{ge as default};
