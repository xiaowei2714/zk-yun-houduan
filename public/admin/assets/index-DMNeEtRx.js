import{d as g,s as L,i as w,j as N,y as R,o as d,a as S,z as f,e as a,B as c,w as i,m as t,b as h,p as C,D as U,C as F,J as O,G as q,eT as z,eU as G,v as H,H as A}from"./index-TUTPcGtB.js";import{E as I}from"./el-card-C9700OUW.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-Bb-eT6Ya.js";import{E as M,a as Q}from"./el-table-column-DdSdIFhN.js";import"./el-checkbox-BvgBD3XW.js";import"./el-tag-Dz7mxGZx.js";import{u as W}from"./usePaging-1LwsvWT7.js";import{u as X}from"./useDictOptions-CLZK6Ewr.js";import{_ as Y,a as Z,b as ee}from"./edit.vue_vue_type_script_setup_true_name_orderJobEdit_lang-Dlm9nKZi.js";import"./el-select-D0BxjOJU.js";import"./index-BRjKuX5p.js";import"./token-DI9FKtlJ.js";import"./isEqual-4FQJ0tWp.js";import"./_Uint8Array-Br1Bv8aR.js";import"./_initCloneObject-BPF8Ocf1.js";import"./el-form-item-DY1YiJTE.js";import"./_baseClone-m2TTLMcq.js";import"./index-BoNShnAY.js";import"./index-CL3ny9IX.js";const te={class:"mt-4"},oe={class:"flex mt-4 justify-end"},ae=g({name:"orderJobLists"}),Ve=g({...ae,setup(le){const _=L(),u=w(!1),m=N({type:""}),k=l=>{m.type=l.props.name,p()},y=w([]),E=l=>{y.value=l.map(({id:e})=>e)},{dictData:D}=X(""),{pager:r,getLists:p,resetParams:se,resetPage:ne}=W({fetchFun:ee,params:m}),V=async l=>{var e,n;u.value=!0,await O(),(e=_.value)==null||e.open("edit"),(n=_.value)==null||n.setFormData(l)},T=async l=>{await q.confirm("确定要删除？"),await Z({id:l}),p()};return p(),(l,e)=>{const n=z,x=G,o=M,b=H,B=Q,P=K,$=I,v=R("perms"),j=A;return d(),S("div",null,[f((d(),c($,{class:"!border-none",shadow:"never"},{default:i(()=>[t(x,{modelValue:a(m).type,"onUpdate:modelValue":e[0]||(e[0]=s=>a(m).type=s),onTabClick:k},{default:i(()=>[t(n,{label:"全部",name:-1}),t(n,{label:"话费",name:1}),t(n,{label:"电费",name:2})]),_:1},8,["modelValue"]),h("div",te,[t(B,{data:a(r).lists,onSelectionChange:E},{default:i(()=>[t(o,{type:"selection",width:"55"}),t(o,{label:"标题",prop:"title","show-overflow-tooltip":""}),t(o,{label:"产品",prop:"product_id","show-overflow-tooltip":""}),t(o,{label:"账号",prop:"account","show-overflow-tooltip":""}),t(o,{label:"内容",prop:"content","show-overflow-tooltip":""}),t(o,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),t(o,{label:"更新时间",prop:"update_time","show-overflow-tooltip":""}),t(o,{label:"状态",prop:"status","show-overflow-tooltip":""}),t(o,{label:"操作",width:"120",fixed:"right"},{default:i(({row:s})=>[f((d(),c(b,{type:"primary",link:"",onClick:J=>V(s)},{default:i(()=>e[3]||(e[3]=[C(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["order_job/edit"]]]),f((d(),c(b,{type:"danger",link:"",onClick:J=>T(s.id)},{default:i(()=>e[4]||(e[4]=[C(" 删除 ")])),_:2},1032,["onClick"])),[[v,["order_job/delete"]]])]),_:1})]),_:1},8,["data"])]),h("div",oe,[t(P,{modelValue:a(r),"onUpdate:modelValue":e[1]||(e[1]=s=>U(r)?r.value=s:null),onChange:a(p)},null,8,["modelValue","onChange"])])]),_:1})),[[j,a(r).loading]]),a(u)?(d(),c(Y,{key:0,ref_key:"editRef",ref:_,"dict-data":a(D),onSuccess:a(p),onClose:e[2]||(e[2]=s=>u.value=!1)},null,8,["dict-data","onSuccess"])):F("",!0)])}}});export{Ve as default};
