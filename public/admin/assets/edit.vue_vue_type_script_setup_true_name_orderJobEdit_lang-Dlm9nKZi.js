import{I as p,d as y,s as b,i as R,c as k,j as V,o as C,a as g,m as t,w as n,e as o,E as F}from"./index-TUTPcGtB.js";import{E as I,a as B}from"./el-form-item-DY1YiJTE.js";import{P}from"./index-BoNShnAY.js";function G(d){return p.get({url:"/order_job/lists",params:d})}function h(d){return p.post({url:"/order_job/add",params:d})}function q(d){return p.post({url:"/order_job/edit",params:d})}function H(d){return p.post({url:"/order_job/delete",params:d})}function A(d){return p.get({url:"/order_job/detail",params:d})}const L={class:"edit-popup"},N=y({name:"orderJobEdit"}),K=y({...N,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(d,{expose:v,emit:w}){const m=w,f=b(),i=b(),c=R("add"),E=k(()=>c.value=="edit"?"编辑工单":"新增工单"),l=V({id:"",user_id:"",type:"",title:"",product_id:"",account:"",content:"",status:""}),j=V({}),_=async r=>{for(const e in l)r[e]!=null&&r[e]!=null&&(l[e]=r[e])},U=async r=>{const e=await A({id:r.id});_(e)},x=async()=>{var e,u;await((e=f.value)==null?void 0:e.validate());const r={...l};c.value=="edit"?await q(r):await h(r),(u=i.value)==null||u.close(),m("success")},D=(r="add")=>{var e;c.value=r,(e=i.value)==null||e.open()},J=()=>{m("close")};return v({open:D,setFormData:_,getDetail:U}),(r,e)=>{const u=F,s=I,O=B;return C(),g("div",L,[t(P,{ref_key:"popupRef",ref:i,title:o(E),async:!0,width:"550px",onConfirm:x,onClose:J},{default:n(()=>[t(O,{ref_key:"formRef",ref:f,model:o(l),"label-width":"90px",rules:o(j)},{default:n(()=>[t(s,{label:"用户",prop:"user_id"},{default:n(()=>[t(u,{modelValue:o(l).user_id,"onUpdate:modelValue":e[0]||(e[0]=a=>o(l).user_id=a),clearable:"",placeholder:"请输入用户"},null,8,["modelValue"])]),_:1}),t(s,{label:"类型",prop:"type"},{default:n(()=>[t(u,{modelValue:o(l).type,"onUpdate:modelValue":e[1]||(e[1]=a=>o(l).type=a),clearable:"",placeholder:"请输入类型"},null,8,["modelValue"])]),_:1}),t(s,{label:"标题",prop:"title"},{default:n(()=>[t(u,{modelValue:o(l).title,"onUpdate:modelValue":e[2]||(e[2]=a=>o(l).title=a),clearable:"",placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),t(s,{label:"产品",prop:"product_id"},{default:n(()=>[t(u,{modelValue:o(l).product_id,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).product_id=a),clearable:"",placeholder:"请输入产品"},null,8,["modelValue"])]),_:1}),t(s,{label:"账号",prop:"account"},{default:n(()=>[t(u,{modelValue:o(l).account,"onUpdate:modelValue":e[4]||(e[4]=a=>o(l).account=a),clearable:"",placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),t(s,{label:"内容",prop:"content"},{default:n(()=>[t(u,{modelValue:o(l).content,"onUpdate:modelValue":e[5]||(e[5]=a=>o(l).content=a),clearable:"",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1}),t(s,{label:"状态",prop:"status"},{default:n(()=>[t(u,{modelValue:o(l).status,"onUpdate:modelValue":e[6]||(e[6]=a=>o(l).status=a),clearable:"",placeholder:"请输入状态"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{K as _,H as a,G as b};
