import{I as s,d as y,s as V,i as k,c as C,j as b,o as g,a as F,m as o,w as r,e as a,E as I}from"./index-TUTPcGtB.js";import{E as j,a as B}from"./el-form-item-DY1YiJTE.js";import{P}from"./index-BoNShnAY.js";function J(n){return s.get({url:"/ad_order/lists",params:n})}function q(n){return s.post({url:"/ad_order/add",params:n})}function L(n){return s.post({url:"/ad_order/edit",params:n})}function K(n){return s.post({url:"/ad_order/delete",params:n})}function N(n){return s.get({url:"/ad_order/detail",params:n})}const S={class:"edit-popup"},T=y({name:"adOrderEdit"}),M=y({...T,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(n,{expose:U,emit:v}){const _=v,c=V(),i=V(),m=k("add"),w=C(()=>m.value=="edit"?"编辑数字交易":"新增数字交易"),l=b({id:"",user_id:"",to_user_id:"",ad_id:"",order_no:"",order_type:"",num:"",price:"",dan_price:"",pay_type:"",status:"",cancel_type:""}),E=b({}),f=async u=>{for(const e in l)u[e]!=null&&u[e]!=null&&(l[e]=u[e])},O=async u=>{const e=await N({id:u.id});f(e)},x=async()=>{var e,t;await((e=c.value)==null?void 0:e.validate());const u={...l};m.value=="edit"?await L(u):await q(u),(t=i.value)==null||t.close(),_("success")},A=(u="add")=>{var e;m.value=u,(e=i.value)==null||e.open()},D=()=>{_("close")};return U({open:A,setFormData:f,getDetail:O}),(u,e)=>{const t=I,p=j,R=B;return g(),F("div",S,[o(P,{ref_key:"popupRef",ref:i,title:a(w),async:!0,width:"550px",onConfirm:x,onClose:D},{default:r(()=>[o(R,{ref_key:"formRef",ref:c,model:a(l),"label-width":"90px",rules:a(E)},{default:r(()=>[o(p,{label:"购买者",prop:"user_id"},{default:r(()=>[o(t,{modelValue:a(l).user_id,"onUpdate:modelValue":e[0]||(e[0]=d=>a(l).user_id=d),clearable:"",placeholder:"请输入购买者"},null,8,["modelValue"])]),_:1}),o(p,{label:"卖家",prop:"to_user_id"},{default:r(()=>[o(t,{modelValue:a(l).to_user_id,"onUpdate:modelValue":e[1]||(e[1]=d=>a(l).to_user_id=d),clearable:"",placeholder:"请输入卖家"},null,8,["modelValue"])]),_:1}),o(p,{label:"广告",prop:"ad_id"},{default:r(()=>[o(t,{modelValue:a(l).ad_id,"onUpdate:modelValue":e[2]||(e[2]=d=>a(l).ad_id=d),clearable:"",placeholder:"请输入广告"},null,8,["modelValue"])]),_:1}),o(p,{label:"订单号",prop:"order_no"},{default:r(()=>[o(t,{modelValue:a(l).order_no,"onUpdate:modelValue":e[3]||(e[3]=d=>a(l).order_no=d),clearable:"",placeholder:"请输入订单号"},null,8,["modelValue"])]),_:1}),o(p,{label:"订单类型",prop:"order_type"},{default:r(()=>[o(t,{modelValue:a(l).order_type,"onUpdate:modelValue":e[4]||(e[4]=d=>a(l).order_type=d),clearable:"",placeholder:"请输入订单类型"},null,8,["modelValue"])]),_:1}),o(p,{label:"数量",prop:"num"},{default:r(()=>[o(t,{modelValue:a(l).num,"onUpdate:modelValue":e[5]||(e[5]=d=>a(l).num=d),clearable:"",placeholder:"请输入数量"},null,8,["modelValue"])]),_:1}),o(p,{label:"总额",prop:"price"},{default:r(()=>[o(t,{modelValue:a(l).price,"onUpdate:modelValue":e[6]||(e[6]=d=>a(l).price=d),clearable:"",placeholder:"请输入总额"},null,8,["modelValue"])]),_:1}),o(p,{label:"单价",prop:"dan_price"},{default:r(()=>[o(t,{modelValue:a(l).dan_price,"onUpdate:modelValue":e[7]||(e[7]=d=>a(l).dan_price=d),clearable:"",placeholder:"请输入单价"},null,8,["modelValue"])]),_:1}),o(p,{label:"支付方式",prop:"pay_type"},{default:r(()=>[o(t,{modelValue:a(l).pay_type,"onUpdate:modelValue":e[8]||(e[8]=d=>a(l).pay_type=d),clearable:"",placeholder:"请输入支付方式"},null,8,["modelValue"])]),_:1}),o(p,{label:"状态",prop:"status"},{default:r(()=>[o(t,{modelValue:a(l).status,"onUpdate:modelValue":e[9]||(e[9]=d=>a(l).status=d),clearable:"",placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),o(p,{label:"取消方式",prop:"cancel_type"},{default:r(()=>[o(t,{modelValue:a(l).cancel_type,"onUpdate:modelValue":e[10]||(e[10]=d=>a(l).cancel_type=d),clearable:"",placeholder:"请输入取消方式"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{M as _,K as a,J as b};
