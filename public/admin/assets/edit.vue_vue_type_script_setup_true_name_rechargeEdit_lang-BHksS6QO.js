import{y as p,d as g,s as V,i as k,c as C,j as b,o as I,a as q,m as o,w as d,e as a,E as F}from"./index-CjrUTDc7.js";import{E as j,a as B}from"./el-form-item-DulyNOW3.js";import{P}from"./index-I8RQE64U.js";function H(s){return p.get({url:"/recharge/lists",params:s})}function A(s){return p.post({url:"/recharge/add",params:s})}function L(s){return p.post({url:"/recharge/edit",params:s})}function J(s){return p.post({url:"/recharge/delete",params:s})}function N(s){return p.get({url:"/recharge/detail",params:s})}const O={class:"edit-popup"},S=g({name:"rechargeEdit"}),K=g({...S,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(s,{expose:h,emit:y}){const c=y,f=V(),i=V(),m=k("add"),R=C(()=>m.value=="edit"?"编辑充值":"新增充值"),l=b({id:"",user_id:"",money:"",desc:"",order_no:"",pay_time:"",hash:"",status:""}),v=b({user_id:[{required:!0,message:"请输入用户ID",trigger:["blur"]}],money:[{required:!0,message:"请输入金额",trigger:["blur"]}]}),_=async r=>{for(const e in l)r[e]!=null&&r[e]!=null&&(l[e]=r[e])},w=async r=>{const e=await N({id:r.id});_(e)},D=async()=>{var e,u;await((e=f.value)==null?void 0:e.validate());const r={...l};m.value=="edit"?await L(r):await A(r),(u=i.value)==null||u.close(),c("success")},E=(r="add")=>{var e;m.value=r,(e=i.value)==null||e.open()},U=()=>{c("close")};return h({open:E,setFormData:_,getDetail:w}),(r,e)=>{const u=F,n=j,x=B;return I(),q("div",O,[o(P,{ref_key:"popupRef",ref:i,title:a(R),async:!0,width:"550px",onConfirm:D,onClose:U},{default:d(()=>[o(x,{ref_key:"formRef",ref:f,model:a(l),"label-width":"90px",rules:a(v)},{default:d(()=>[o(n,{label:"用户ID",prop:"user_id"},{default:d(()=>[o(u,{modelValue:a(l).user_id,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).user_id=t),clearable:"",placeholder:"请输入用户ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"金额",prop:"money"},{default:d(()=>[o(u,{modelValue:a(l).money,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).money=t),clearable:"",placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),o(n,{label:"订单描述",prop:"desc"},{default:d(()=>[o(u,{modelValue:a(l).desc,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).desc=t),clearable:"",placeholder:"请输入订单描述"},null,8,["modelValue"])]),_:1}),o(n,{label:"订单号",prop:"order_no"},{default:d(()=>[o(u,{modelValue:a(l).order_no,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).order_no=t),clearable:"",placeholder:"请输入订单号"},null,8,["modelValue"])]),_:1}),o(n,{label:"付款时间",prop:"pay_time"},{default:d(()=>[o(u,{modelValue:a(l).pay_time,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).pay_time=t),clearable:"",placeholder:"请输入付款时间"},null,8,["modelValue"])]),_:1}),o(n,{label:"回调稀哈",prop:"hash"},{default:d(()=>[o(u,{modelValue:a(l).hash,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).hash=t),clearable:"",placeholder:"请输入回调稀哈"},null,8,["modelValue"])]),_:1}),o(n,{label:"订单状态",prop:"status"},{default:d(()=>[o(u,{modelValue:a(l).status,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).status=t),clearable:"",placeholder:"请输入订单状态"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{K as _,J as a,H as b};
