import{d as y,i as B,j as F,N as P,O as V,y as U,o as n,a as g,m as e,w as t,e as l,D as z,F as D,r as M,z as v,B as p,p as d,Q as O,eT as S,eU as j,v as q,H}from"./index-TUTPcGtB.js";import{E as N,a as Q}from"./el-table-column-DdSdIFhN.js";import"./el-checkbox-BvgBD3XW.js";import"./el-tag-Dz7mxGZx.js";import{E as G}from"./el-card-C9700OUW.js";import{E as I}from"./el-alert-Dihv1GQC.js";import{a as J}from"./message-afi5Anch.js";import{u as K}from"./usePaging-1LwsvWT7.js";import{E as W}from"./index-BRjKuX5p.js";import"./_Uint8Array-Br1Bv8aR.js";import"./isEqual-4FQJ0tWp.js";import"./_initCloneObject-BPF8Ocf1.js";const X=y({name:"notice"}),pe=y({...X,setup(Y){let c;(s=>{s[s.USER=1]="USER",s[s.PLATFORM=2]="PLATFORM"})(c||(c={}));const r=B(1),E=[{name:"通知用户",type:1},{name:"通知平台",type:2}],w=F({recipient:r}),{pager:u,getLists:_}=K({fetchFun:J,params:w});return P(()=>{_()}),_(),(s,a)=>{const T=I,f=G,k=S,h=j,i=N,b=W,C=V("router-link"),L=q,R=Q,x=U("perms"),A=H;return n(),g("div",null,[e(f,{class:"!border-none",shadow:"never"},{default:t(()=>[e(T,{type:"warning",title:"温馨提示：平台配置在各个场景下的通知发送方式和内容模板",closable:!1,"show-icon":""})]),_:1}),e(f,{class:"!border-none mt-4",shadow:"never"},{default:t(()=>[e(h,{modelValue:l(r),"onUpdate:modelValue":a[0]||(a[0]=o=>z(r)?r.value=o:null),onTabChange:l(_)},{default:t(()=>[(n(),g(D,null,M(E,(o,m)=>e(k,{key:m,label:o.name,name:o.type,lazy:""},null,8,["label","name"])),64))]),_:1},8,["modelValue","onTabChange"]),v((n(),p(R,{size:"large",data:l(u).lists},{default:t(()=>[e(i,{label:"通知场景",prop:"scene_name","min-width":"120"}),e(i,{label:"通知类型",prop:"type_desc","min-width":"160"}),e(i,{label:"短信通知","min-width":"80"},{default:t(({row:o})=>{var m;return[((m=o.sms_notice)==null?void 0:m.status)==1?(n(),p(b,{key:0},{default:t(()=>a[1]||(a[1]=[d("开启")])),_:1})):(n(),p(b,{key:1,type:"danger"},{default:t(()=>a[2]||(a[2]=[d("关闭")])),_:1}))]}),_:1}),e(i,{label:"操作","min-width":"80",fixed:"right"},{default:t(({row:o})=>[v((n(),p(L,{type:"primary",link:""},{default:t(()=>[e(C,{to:{path:l(O)("notice.notice/set"),query:{id:o.id}}},{default:t(()=>a[3]||(a[3]=[d(" 设置 ")])),_:2},1032,["to"])]),_:2},1024)),[[x,["notice.notice/set"]]])]),_:1})]),_:1},8,["data"])),[[A,l(u).loading]])]),_:1})])}}});export{pe as default};
