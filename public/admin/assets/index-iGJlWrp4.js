import{d as g,s as N,i as w,j as R,z as S,o as d,a as J,B as f,e as a,C as c,w as i,m as t,b as h,p as C,D as U,G as F,H as O,I as q,eT as z,eU as G,v as H,K as I}from"./index-CjrUTDc7.js";import{E as K}from"./el-card-B7AqWJI9.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-xYG9uRvh.js";import{E as M,a as Q}from"./el-table-column-hNjX9l6Z.js";import"./el-checkbox-iUIlu7_W.js";import"./el-tag-fcL6WFhP.js";import{u as W}from"./usePaging-BRvX9O7P.js";import{a as X}from"./useDictOptions-DSHS1zwt.js";import{_ as Y,a as Z,b as ee}from"./edit.vue_vue_type_script_setup_true_name_orderJobEdit_lang-PZWnJlEh.js";import"./el-select-C7hSJbGf.js";import"./index-CquG79_W.js";import"./token-DI9FKtlJ.js";import"./isEqual-8JjuuLRw.js";import"./_Uint8Array-DKA781hl.js";import"./_initCloneObject-B8QlPx5z.js";import"./el-form-item-DulyNOW3.js";import"./_baseClone-BTyhH2fs.js";import"./index-I8RQE64U.js";import"./index-Cp-_aYzg.js";const te={class:"mt-4"},oe={class:"flex mt-4 justify-end"},ae=g({name:"orderJobLists"}),Ve=g({...ae,setup(le){const _=N(),u=w(!1),m=R({type:""}),k=l=>{m.type=l.props.name,p()},y=w([]),E=l=>{y.value=l.map(({id:e})=>e)},{dictData:D}=X(""),{pager:r,getLists:p,resetParams:se,resetPage:ne}=W({fetchFun:ee,params:m}),V=async l=>{var e,n;u.value=!0,await O(),(e=_.value)==null||e.open("edit"),(n=_.value)==null||n.setFormData(l)},T=async l=>{await q.confirm("确定要删除？"),await Z({id:l}),p()};return p(),(l,e)=>{const n=z,x=G,o=M,b=H,B=Q,P=A,$=K,v=S("perms"),j=I;return d(),J("div",null,[f((d(),c($,{class:"!border-none",shadow:"never"},{default:i(()=>[t(x,{modelValue:a(m).type,"onUpdate:modelValue":e[0]||(e[0]=s=>a(m).type=s),onTabClick:k},{default:i(()=>[t(n,{label:"全部",name:-1}),t(n,{label:"话费",name:1}),t(n,{label:"电费",name:2})]),_:1},8,["modelValue"]),h("div",te,[t(B,{data:a(r).lists,onSelectionChange:E},{default:i(()=>[t(o,{type:"selection",width:"55"}),t(o,{label:"标题",prop:"title","show-overflow-tooltip":""}),t(o,{label:"产品",prop:"product_id","show-overflow-tooltip":""}),t(o,{label:"账号",prop:"account","show-overflow-tooltip":""}),t(o,{label:"内容",prop:"content","show-overflow-tooltip":""}),t(o,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),t(o,{label:"更新时间",prop:"update_time","show-overflow-tooltip":""}),t(o,{label:"状态",prop:"status","show-overflow-tooltip":""}),t(o,{label:"操作",width:"120",fixed:"right"},{default:i(({row:s})=>[f((d(),c(b,{type:"primary",link:"",onClick:L=>V(s)},{default:i(()=>e[3]||(e[3]=[C(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["order_job/edit"]]]),f((d(),c(b,{type:"danger",link:"",onClick:L=>T(s.id)},{default:i(()=>e[4]||(e[4]=[C(" 删除 ")])),_:2},1032,["onClick"])),[[v,["order_job/delete"]]])]),_:1})]),_:1},8,["data"])]),h("div",oe,[t(P,{modelValue:a(r),"onUpdate:modelValue":e[1]||(e[1]=s=>U(r)?r.value=s:null),onChange:a(p)},null,8,["modelValue","onChange"])])]),_:1})),[[j,a(r).loading]]),a(u)?(d(),c(Y,{key:0,ref_key:"editRef",ref:_,"dict-data":a(D),onSuccess:a(p),onClose:e[2]||(e[2]=s=>u.value=!1)},null,8,["dict-data","onSuccess"])):F("",!0)])}}});export{Ve as default};
