import{d as D,s as F,i as x,j as O,y as j,o as s,a as r,m as t,w as a,e as l,p as y,z as k,B as b,b as _,C as p,t as h,D as z,G as A,E as I,v as q,H as G}from"./index-TUTPcGtB.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-Bb-eT6Ya.js";import{E as Y,a as J}from"./el-table-column-DdSdIFhN.js";import"./el-checkbox-BvgBD3XW.js";import"./el-tag-Dz7mxGZx.js";import{E as K}from"./el-card-C9700OUW.js";import{E as M,a as Q}from"./el-form-item-DY1YiJTE.js";import{u as W}from"./usePaging-1LwsvWT7.js";import{u as X}from"./useDictOptions-CLZK6Ewr.js";import{_ as Z,a as ee,b as te}from"./edit.vue_vue_type_script_setup_true_name_adOrderEdit_lang-DvOAqGDP.js";import"./el-select-D0BxjOJU.js";import"./index-BRjKuX5p.js";import"./token-DI9FKtlJ.js";import"./isEqual-4FQJ0tWp.js";import"./_Uint8Array-Br1Bv8aR.js";import"./_initCloneObject-BPF8Ocf1.js";import"./_baseClone-m2TTLMcq.js";import"./index-BoNShnAY.js";import"./index-CL3ny9IX.js";const oe={class:"mt-4"},ae={key:0},le={key:1},se={key:0},ne={key:1},re={key:2},pe={key:3},de={key:0},ie={key:1},_e={key:2},ue={key:3},me={key:4},ce={class:"flex mt-4 justify-end"},fe=D({name:"adOrderLists"}),Fe=D({...fe,setup(ye){const B=F(),C=x(!1),d=O({order_no:"",order_type:"",status:""}),v=x([]),S=m=>{v.value=m.map(({id:o})=>o)},{dictData:U}=X(""),{pager:i,getLists:u,resetParams:$,resetPage:L}=W({fetchFun:te,params:d}),g=async m=>{await A.confirm("确定要删除？"),await ee({id:m}),u()};return u(),(m,o)=>{const w=I,c=M,f=q,N=Q,V=K,n=Y,P=J,R=H,E=j("perms"),T=G;return s(),r("div",null,[t(V,{class:"!border-none mb-4",shadow:"never"},{default:a(()=>[t(N,{class:"mb-[-16px]",model:l(d),inline:""},{default:a(()=>[t(c,{label:"订单号",prop:"order_no"},{default:a(()=>[t(w,{class:"w-[280px]",modelValue:l(d).order_no,"onUpdate:modelValue":o[0]||(o[0]=e=>l(d).order_no=e),clearable:"",placeholder:"请输入订单号"},null,8,["modelValue"])]),_:1}),t(c,{label:"订单类型",prop:"order_type"},{default:a(()=>[t(w,{class:"w-[280px]",modelValue:l(d).order_type,"onUpdate:modelValue":o[1]||(o[1]=e=>l(d).order_type=e),clearable:"",placeholder:"请输入订单类型"},null,8,["modelValue"])]),_:1}),t(c,{label:"状态",prop:"status"},{default:a(()=>[t(w,{class:"w-[280px]",modelValue:l(d).status,"onUpdate:modelValue":o[2]||(o[2]=e=>l(d).status=e),clearable:"",placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),t(c,null,{default:a(()=>[t(f,{type:"primary",onClick:l(L)},{default:a(()=>o[6]||(o[6]=[y("查询")])),_:1},8,["onClick"]),t(f,{onClick:l($)},{default:a(()=>o[7]||(o[7]=[y("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),k((s(),b(V,{class:"!border-none",shadow:"never"},{default:a(()=>[k((s(),b(f,{disabled:!l(v).length,onClick:o[3]||(o[3]=e=>g(l(v)))},{default:a(()=>o[8]||(o[8]=[y(" 删除 ")])),_:1},8,["disabled"])),[[E,["ad_order/delete"]]]),_("div",oe,[t(P,{data:l(i).lists,onSelectionChange:S},{default:a(()=>[t(n,{type:"selection",width:"55"}),t(n,{label:"买家",prop:"username","show-overflow-tooltip":""}),t(n,{label:"卖家",prop:"to_username","show-overflow-tooltip":""}),t(n,{label:"订单号",prop:"order_no","show-overflow-tooltip":""}),t(n,{label:"订单类型",prop:"order_type","show-overflow-tooltip":""},{default:a(({row:e})=>[e.order_type==1?(s(),r("span",ae,"买入")):p("",!0),e.order_type==2?(s(),r("span",le,"卖出")):p("",!0)]),_:1}),t(n,{label:"数量",prop:"num","show-overflow-tooltip":""},{default:a(({row:e})=>[_("span",null,h(e.num)+" Y币",1)]),_:1}),t(n,{label:"总额",prop:"price","show-overflow-tooltip":""},{default:a(({row:e})=>[_("span",null,"￥"+h(e.price),1)]),_:1}),t(n,{label:"单价",prop:"dan_price","show-overflow-tooltip":""},{default:a(({row:e})=>[_("span",null,"￥"+h(e.dan_price),1)]),_:1}),t(n,{label:"支付方式",prop:"pay_type","show-overflow-tooltip":""},{default:a(({row:e})=>[e.pay_type=="wx"?(s(),r("span",se,"微信")):p("",!0),e.pay_type=="zfb"?(s(),r("span",ne,"支付宝")):p("",!0),e.pay_type=="yhk"?(s(),r("span",re,"银行储蓄卡")):p("",!0),e.pay_type=="usdt"?(s(),r("span",pe,"USDT")):p("",!0)]),_:1}),t(n,{label:"状态",prop:"status","show-overflow-tooltip":""},{default:a(({row:e})=>[e.status==1?(s(),r("span",de,"待付款")):p("",!0),e.status==2?(s(),r("span",ie,"已付款")):p("",!0),e.status==3?(s(),r("span",_e,"申述")):p("",!0),e.status==4?(s(),r("span",ue,"已完成")):p("",!0),e.status==5?(s(),r("span",me,"已取消")):p("",!0)]),_:1}),t(n,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),t(n,{label:"操作",width:"120",fixed:"right"},{default:a(({row:e})=>[k((s(),b(f,{type:"danger",link:"",onClick:be=>g(e.id)},{default:a(()=>o[9]||(o[9]=[y(" 删除 ")])),_:2},1032,["onClick"])),[[E,["ad_order/delete"]]])]),_:1})]),_:1},8,["data"])]),_("div",ce,[t(R,{modelValue:l(i),"onUpdate:modelValue":o[4]||(o[4]=e=>z(i)?i.value=e:null),onChange:l(u)},null,8,["modelValue","onChange"])])]),_:1})),[[T,l(i).loading]]),l(C)?(s(),b(Z,{key:0,ref_key:"editRef",ref:B,"dict-data":l(U),onSuccess:l(u),onClose:o[5]||(o[5]=e=>C.value=!1)},null,8,["dict-data","onSuccess"])):p("",!0)])}}});export{Fe as default};
